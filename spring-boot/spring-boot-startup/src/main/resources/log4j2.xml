<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN" monitorInterval="30" verbose="true" strict="true">
  <Properties>
    <Property name="contextName">spring-boot-learn</Property>
  </Properties>
  
  <Appenders>
    <Console name="STDOUT">
    	<!--控制台只输出level及以上级别的信息（onMatch），其他的直接拒绝（onMismatch）-->
		<ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY"/>
      <PatternLayout>
      	<Pattern>%highlight{%date [${contextName}] %level} [%thread] %logger [%file:%line] - %msg%n</Pattern>
      </PatternLayout>
    </Console>
    
    <RollingRandomAccessFile name="ROLLING" fileName="${project.build.directory}/logs/${contextName}-${ctx:logger.host}.log"
                 filePattern="${project.build.directory}/logs/${contextName}-${ctx:logger.host}.%d{yyyy-MM-dd}.%i.log.gz"
                 immediateFlush="false">
      <PatternLayout>
        <Pattern>%date [${contextName}] %level [%thread] %logger [%file:%line] - %msg%n</Pattern>
      </PatternLayout>
 	  <!-- daily rollover -->
      <Policies>
	    <OnStartupTriggeringPolicy />
	    <SizeBasedTriggeringPolicy size="50 MB" />
	    <TimeBasedTriggeringPolicy />
	    <!--
	    <TimeBasedTriggeringPolicy  interval="6" modulate="true" />
	    -->
	  </Policies>
	  <!-- keep 14 days' worth of history -->
	  <DefaultRolloverStrategy max="14"/>
    </RollingRandomAccessFile>
    
    <!--<RollingRandomAccessFile name="ROLLING_LINKBASE" fileName="${project.build.directory}/logs/${contextName}-${ctx:logger.host}-linkbase.log"-->
                 <!--filePattern="${project.build.directory}/logs/${contextName}-${ctx:logger.host}-linkbase.%d{yyyy-MM-dd}.%i.log.gz"-->
                 <!--immediateFlush="false">-->
      <!--<PatternLayout>-->
        <!--<Pattern>%date [${contextName}] %level [%thread] %logger [%file:%line] - %msg%n</Pattern>-->
      <!--</PatternLayout>-->
 	  <!--&lt;!&ndash; daily rollover &ndash;&gt;-->
      <!--<Policies>-->
	    <!--<OnStartupTriggeringPolicy />-->
	    <!--<SizeBasedTriggeringPolicy size="50 MB" />-->
		<!--<TimeBasedTriggeringPolicy />-->
	    <!--&lt;!&ndash;-->
	    <!--<TimeBasedTriggeringPolicy  interval="6" modulate="true" />-->
	    <!--&ndash;&gt;-->
	  <!--</Policies>-->
	  <!--&lt;!&ndash; keep 14 days' worth of history &ndash;&gt;-->
	  <!--<DefaultRolloverStrategy max="14"/>-->
    <!--</RollingRandomAccessFile>-->
    <!---->
    <!--<RollingRandomAccessFile name="ROLLING_CRAWLER" fileName="${project.build.directory}/logs/${contextName}-${ctx:logger.host}-crawler.log"-->
                 <!--filePattern="${project.build.directory}/logs/${contextName}-${ctx:logger.host}-crawler.%d{yyyy-MM-dd}.%i.log.gz"-->
                 <!--immediateFlush="false">-->
      <!--<PatternLayout>-->
        <!--<Pattern>%date [${contextName}] %level [%thread] %logger [%file:%line] - %msg%n</Pattern>-->
      <!--</PatternLayout>-->
 	  <!--&lt;!&ndash; daily rollover &ndash;&gt;-->
      <!--<Policies>-->
	    <!--<OnStartupTriggeringPolicy />-->
	    <!--<SizeBasedTriggeringPolicy size="50 MB" />-->
	    <!--<TimeBasedTriggeringPolicy />-->
	    <!--&lt;!&ndash;-->
	    <!--<TimeBasedTriggeringPolicy  interval="6" modulate="true" />-->
	    <!--&ndash;&gt;-->
	  <!--</Policies>-->
	  <!--&lt;!&ndash; keep 14 days' worth of history &ndash;&gt;-->
	  <!--<DefaultRolloverStrategy max="14"/>-->
    <!--</RollingRandomAccessFile>-->
  </Appenders>
  
  <Loggers>
	<!-- Spring -->
	<asyncLogger name="org.springframework" level="INFO" includeLocation="true" />
	<!-- Hibernate -->
	<asyncLogger name="org.hibernate" level="INFO" includeLocation="true" />
	<!-- MyBatis -->
	<asyncLogger name="org.apache.ibatis" level="INFO" includeLocation="true" />
	<asyncLogger name="org.mybatis" level="INFO" includeLocation="true" />

    <asyncRoot level="DEBUG" includeLocation="true">
      <AppenderRef ref="STDOUT" />
      <AppenderRef ref="ROLLING" />
    </asyncRoot>
  </Loggers>
</Configuration>